{
	"manifest_version": 2,
	"name": "Markdown Viewer Webext",
	"version": "1.8.1",
	"author": "Keith L Robertson, Cimbali",
	"homepage_url": "https://github.com/KeithLRobertson/markdown-viewer",
	"description": "Displays Markdown documents beautified in your browser.",

	"applications": {
		"gecko": {
			"id": "{943b8007-a895-44af-a672-4f4ea548c95f}"
		}
	},

	"background": {
		"scripts": ["ext/background.js"],
		"persistent": false
	},

	"icons": {
		"48": "ext/markdown-mark.svg",
		"96": "ext/markdown-mark.svg"
	},

	"permissions": [
		"storage",
		"*://*/*.markdown",
		"*://*/*.md",
		"*://*/*.mdown",
		"*://*/*.mdwn",
		"*://*/*.mkd",
		"*://*/*.mkdn",
		"tabs"
	],

	"content_security_policy": "default-src: 'self'; object-src 'none'; frame-src 'self'; script-src 'self'; img-src blob: https: filesystem:; media-src blob: https: filesystem:; connect-src blob: https: filesystem:; style-src: 'self' blob:; upgrade-insecure-requests;",

	"protocol_handlers": [
		{
			"protocol": "ext+view-markdown",
			"name": "Markdown Viewer",
			"uriTemplate": "/ext/view-md.html?file=%s"
		}
	],

	"content_scripts": [
		{
			"matches": [
				"*://*/*.markdown",
				"*://*/*.MARKDOWN",
				"*://*/*.md",
				"*://*/*.MD",
				"*://*/*.mdown",
				"*://*/*.MDOWN",
				"*://*/*.mdwn",
				"*://*/*.MDWN",
				"*://*/*.mkd",
				"*://*/*.MKD",
				"*://*/*.mkdn",
				"*://*/*.MKDN",
				"file://*/*.markdown",
				"file://*/*.MARKDOWN",
				"file://*/*.md",
				"file://*/*.MD",
				"file://*/*.mdown",
				"file://*/*.MDOWN",
				"file://*/*.mdwn",
				"file://*/*.MDWN",
				"file://*/*.mkd",
				"file://*/*.MKD",
				"file://*/*.mkdn",
				"file://*/*.MKDN"
			],
			"js": [
				"lib/markdown-it/dist/markdown-it.min.js",
				"lib/markdown-it-checkbox/dist/markdown-it-checkbox.min.js",
				"lib/markdown-it-emoji/dist/markdown-it-emoji.min.js",
				"lib/markdown-it-footnote/dist/markdown-it-footnote.min.js",
				"lib/markdown-it-fancy-lists/markdown-it-fancy-lists.js",
				"lib/highlightjs/build/highlight.min.js",
				"lib/katex/dist/katex.min.js",
				"lib/markdown-it-texmath/texmath.js",
				"ext/renderer.js",
				"ext/builder.js",
				"ext/inject.js"
			]
		}
	],

	"options_ui": {
		"page": "ext/options.html",
		"browser_style": true
	},

	"web_accessible_resources": [
		"lib/sss/*.css",
		"lib/highlightjs/build/styles/*.min.css",
		"lib/markdown-it-texmath/css/texmath.css",
		"lib/katex/dist/katex.min.css",
		"ext/menu.css"
	],

	"page_action": {
		"browser_style": true,
		"default_icon": "ext/markdown-mark.svg",
		"default_title": "Force rendering Markdown",
		"show_matches": [
			"*://*/*.markdown",
			"*://*/*.MARKDOWN",
			"*://*/*.md",
			"*://*/*.MD",
			"*://*/*.mdown",
			"*://*/*.MDOWN",
			"*://*/*.mdwn",
			"*://*/*.MDWN",
			"*://*/*.mkd",
			"*://*/*.MKD",
			"*://*/*.mkdn",
			"*://*/*.MKDN"
		]
	},

	"browser_action": {
		"browser_style": true,
		"default_icon": "ext/markdown-mark.svg",
		"default_title": "Open local markdown file"
	},

	"commands": {
		"_execute_browser_action": {
			"description": "Open local markdown file picker"
		},
		"_execute_page_action": {
			"description": "Force rendering markdown in page"
		}
	}
}
